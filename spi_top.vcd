$date
	Sun Aug 24 21:47:59 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ns
$end
$scope module spi_top_tb $end
$var wire 8 ! slave_rx_data [7:0] $end
$var wire 8 " master_rx_data [7:0] $end
$var parameter 32 # DATA_WIDTH $end
$var reg 1 $ clk $end
$var reg 8 % master_tx_data [7:0] $end
$var reg 1 & rst $end
$var reg 8 ' slave_tx_data [7:0] $end
$var reg 1 ( tx_start $end
$scope module dut $end
$var wire 1 $ clk $end
$var wire 8 ) master_tx_data [7:0] $end
$var wire 1 & rst $end
$var wire 8 * slave_tx_data [7:0] $end
$var wire 1 ( tx_start $end
$var wire 8 + slave_rx_data [7:0] $end
$var wire 1 , sclk $end
$var wire 8 - master_rx_data [7:0] $end
$var wire 1 . cs_n $end
$var wire 1 / MOSI $end
$var wire 1 0 MISO $end
$var parameter 32 1 DATA_WIDTH $end
$scope module master $end
$var wire 8 2 TX_DATA [7:0] $end
$var wire 1 $ clk $end
$var wire 1 & rst $end
$var wire 1 ( tx_start $end
$var wire 1 0 MISO $end
$var parameter 32 3 DATA_WIDTH $end
$var parameter 32 4 IDLE $end
$var parameter 32 5 START $end
$var parameter 32 6 STOP $end
$var parameter 32 7 TRANSFER $end
$var reg 1 / MOSI $end
$var reg 8 8 RX_DATA [7:0] $end
$var reg 4 9 count [3:0] $end
$var reg 1 . cs_n $end
$var reg 1 , sclk $end
$var reg 8 : shift_reg_miso [7:0] $end
$var reg 8 ; shift_reg_mosi [7:0] $end
$var reg 2 < state [1:0] $end
$upscope $end
$scope module slave $end
$var wire 1 / MOSI $end
$var wire 8 = TXS_DATA [7:0] $end
$var wire 1 . cs_n $end
$var wire 1 & rst $end
$var wire 1 , sclk $end
$var parameter 32 > DATA_WIDTH $end
$var reg 1 0 MISO $end
$var reg 8 ? RXS_DATA [7:0] $end
$var reg 4 @ bit_count [3:0] $end
$var reg 8 A shift_reg_miso [7:0] $end
$var reg 8 B shift_reg_mosi [7:0] $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b1000 >
b10 7
b11 6
b1 5
b0 4
b1000 3
b1000 1
b1000 #
$end
#0
$dumpvars
b0 B
b0 A
b0 @
b0 ?
b111100 =
bx <
bx ;
bx :
bx 9
bx 8
b10100101 2
00
x/
x.
bx -
x,
b0 +
b111100 *
b10100101 )
0(
b111100 '
1&
b10100101 %
0$
bx "
b0 !
$end
#5
b1000 9
b0 <
b0 "
b0 -
b0 8
0,
1.
0/
1$
#10
0$
#15
1$
#20
0$
0&
#25
1$
#30
0$
1(
#35
b1 <
1$
#40
0$
0(
#45
b111100 A
b10 <
b10100101 ;
0.
1$
#50
b1 @
b1111000 A
0,
0$
#55
b10 @
b11110000 A
b1 B
1,
b111 9
bx0 :
b1001010 ;
1/
1$
#60
0,
0$
#65
b11 @
b11100000 A
10
b10 B
1,
b110 9
bx00 :
b10010100 ;
0/
1$
#70
0,
0$
#75
b100 @
b11000000 A
b101 B
1,
b101 9
bx001 :
b101000 ;
1/
1$
#80
0,
0$
#85
b101 @
b10000000 A
b1010 B
1,
b100 9
bx0011 :
b1010000 ;
0/
1$
#90
0,
0$
#95
b110 @
b0 A
b10100 B
1,
b11 9
bx00111 :
b10100000 ;
1$
#100
0,
0$
#105
b111 @
00
b101001 B
1,
b10 9
bx001111 :
b1000000 ;
1/
1$
#110
0,
0$
#115
b111100 A
b101001 !
b101001 +
b101001 ?
b0 @
b1010010 B
1,
b1 9
bx0011110 :
b10000000 ;
0/
1$
#120
0,
0$
#125
b1 @
b1111000 A
b10100101 B
1,
b11 <
b0 9
b111100 :
b0 ;
1/
1$
#130
0,
0$
#135
b10100101 !
b10100101 +
b10100101 ?
b0 <
b111100 "
b111100 -
b111100 8
1,
1.
1$
#140
0$
#145
b1000 9
0,
0/
1$
#150
0$
#155
1$
#160
0$
#165
1$
#170
0$
#175
1$
#180
0$
#185
1$
#190
0$
#195
1$
#200
0$
#205
1$
#210
0$
#215
1$
#220
0$
#225
1$
#230
0$
#235
1$
#240
0$
